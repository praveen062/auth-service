{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:945","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:946","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:947","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:955","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:1018","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:1019","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:1020","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"server/main_test.go:1028","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.308+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"7af407fdbef700b60c311d5d5db9b0c3","trace_id":"7af407fdbef700b60c311d5d5db9b0c3","span_id":"e9a5f4e00ef49ebb","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.309+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"998c9d068e36871f60aebba9961eb697","trace_id":"998c9d068e36871f60aebba9961eb697","span_id":"eb725acbbdf7b790","method":"POST","path":"/api/v1/auth/login","client_ip":"","endpoint":"/auth/login","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:18:59.309+0530","caller":"rest/auth_handler.go:115","message":"Tenant context missing","request_id":"998c9d068e36871f60aebba9961eb697","trace_id":"998c9d068e36871f60aebba9961eb697","span_id":"eb725acbbdf7b790","method":"POST","path":"/api/v1/auth/login","client_ip":"","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:115\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/cmd/server.TestMain_HandlerSetup.func1\n\t/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:1076\nauth-service/cmd/server.isolateEnvVars\n\t/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:175\nauth-service/cmd/server.TestMain_HandlerSetup\n\t/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:1043\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
--- FAIL: TestMain_HandlerSetup (0.00s)
    main_test.go:1079: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:1079
        	            				/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:175
        	            				/Users/Licious/Desktop/repository/auth-service/cmd/server/main_test.go:1043
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 500
        	Test:       	TestMain_HandlerSetup
FAIL
exit status 1
FAIL	auth-service/cmd/server	0.367s
?   	auth-service/docs	[no test files]
{"level":"INFO","timestamp":"2025-06-26T01:18:59.619+0530","caller":"actuator/actuator_test.go:47","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"279c6365551f4b9d47a737b45956729b","trace_id":"279c6365551f4b9d47a737b45956729b","span_id":"925361ea679799bc","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:70","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"876732bfadfe5be44bdf75880bba82a1","trace_id":"876732bfadfe5be44bdf75880bba82a1","span_id":"6b68e660d6e6d272","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"876732bfadfe5be44bdf75880bba82a1","trace_id":"876732bfadfe5be44bdf75880bba82a1","span_id":"6b68e660d6e6d272","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:84","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"4fcb6361fd9ea3d9fb1d8c34ae11cd77","trace_id":"4fcb6361fd9ea3d9fb1d8c34ae11cd77","span_id":"89ba759a2321cbb4","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"4fcb6361fd9ea3d9fb1d8c34ae11cd77","trace_id":"4fcb6361fd9ea3d9fb1d8c34ae11cd77","span_id":"89ba759a2321cbb4","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:98","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"b4b1975582d556c84108f7a6fbcc7bb9","trace_id":"b4b1975582d556c84108f7a6fbcc7bb9","span_id":"aaf3b64a4a58252a","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"b4b1975582d556c84108f7a6fbcc7bb9","trace_id":"b4b1975582d556c84108f7a6fbcc7bb9","span_id":"aaf3b64a4a58252a","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:112","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"a9fb0c0c4753b6512c1358b5f98142f0","trace_id":"a9fb0c0c4753b6512c1358b5f98142f0","span_id":"c672012bab2d3591","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:136","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"5547eb78b7e83fd089e7da5eda186044","trace_id":"5547eb78b7e83fd089e7da5eda186044","span_id":"8e626a11d5ea51c6","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"5547eb78b7e83fd089e7da5eda186044","trace_id":"5547eb78b7e83fd089e7da5eda186044","span_id":"8e626a11d5ea51c6","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator_test.go:160","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.620+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"cc65ce5de58ab3103f82b646b5cb217c","trace_id":"cc65ce5de58ab3103f82b646b5cb217c","span_id":"59ae2b117e8a7bd3","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"cc65ce5de58ab3103f82b646b5cb217c","trace_id":"cc65ce5de58ab3103f82b646b5cb217c","span_id":"59ae2b117e8a7bd3","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator_test.go:175","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator_test.go:201","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator_test.go:224","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator_test.go:246","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.621+0530","caller":"actuator/actuator_test.go:275","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:308","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:329","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:416","message":"Health check registered","name":"test-check"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:429","message":"Readiness check registered","name":"test-readiness"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:452","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:478","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:502","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:524","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator_test.go:546","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.622+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"fe400caade3d97147dabbf230c7d9c81","trace_id":"fe400caade3d97147dabbf230c7d9c81","span_id":"20536836638b5193","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"fe400caade3d97147dabbf230c7d9c81","trace_id":"fe400caade3d97147dabbf230c7d9c81","span_id":"20536836638b5193","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"5ce42c2ac47d4fcfcae69549b6f5889c","trace_id":"5ce42c2ac47d4fcfcae69549b6f5889c","span_id":"026e82d5b140b72d","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"5ce42c2ac47d4fcfcae69549b6f5889c","trace_id":"5ce42c2ac47d4fcfcae69549b6f5889c","span_id":"026e82d5b140b72d","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"bae61613e6fe9752ea0a45d8d8928d23","trace_id":"bae61613e6fe9752ea0a45d8d8928d23","span_id":"d867b0c63dcfa55e","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"bae61613e6fe9752ea0a45d8d8928d23","trace_id":"bae61613e6fe9752ea0a45d8d8928d23","span_id":"d867b0c63dcfa55e","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"b5751a2671fb2fc19d8dacf65dff6541","trace_id":"b5751a2671fb2fc19d8dacf65dff6541","span_id":"c73b64077b831644","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"655e68f106df51ae6575221c731dc45b","trace_id":"655e68f106df51ae6575221c731dc45b","span_id":"c210b69d78fb4dc8","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"108afb7180fecf451c36b6e60fc4b197","trace_id":"108afb7180fecf451c36b6e60fc4b197","span_id":"4d9f2e07d934b27b","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"108afb7180fecf451c36b6e60fc4b197","trace_id":"108afb7180fecf451c36b6e60fc4b197","span_id":"4d9f2e07d934b27b","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"aefda07eeb198e357e5166a215bdf16b","trace_id":"aefda07eeb198e357e5166a215bdf16b","span_id":"949acd65d6ab8041","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T01:18:59.623+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"aefda07eeb198e357e5166a215bdf16b","trace_id":"aefda07eeb198e357e5166a215bdf16b","span_id":"949acd65d6ab8041","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
PASS
ok  	auth-service/internal/actuator	0.387s
PASS
ok  	auth-service/internal/config	0.224s
{"level":"INFO","timestamp":"2025-06-26T01:19:00.196+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.196+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.196+0530","caller":"rest/auth_handler.go:115","message":"Tenant context missing","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:115\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_Success.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_Success\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:91\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.196+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":500,"duration":0.000579667}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.197+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7e62b24c5260db8abdef796e7d378bfe","trace_id":"7e62b24c5260db8abdef796e7d378bfe","span_id":"19874972a014cdde","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":78,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_Success.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_Success\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:91\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
--- FAIL: TestAuthHandler_Login_Success (0.00s)
    auth_handler_test.go:94: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:94
        	Error:      	Not equal: 
        	            	expected: 200
        	            	actual  : 500
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:100: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:100
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:101: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:101
        	Error:      	Should NOT be empty, but was 
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:102: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:102
        	Error:      	Not equal: 
        	            	expected: "Bearer"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-Bearer
        	            	+
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:103: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:103
        	Error:      	Not equal: 
        	            	expected: 3600
        	            	actual  : 0
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:104: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:104
        	Error:      	Not equal: 
        	            	expected: "test@example.com"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-test@example.com
        	            	+
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:105: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:105
        	Error:      	Not equal: 
        	            	expected: "tenant-123"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-tenant-123
        	            	+
        	Test:       	TestAuthHandler_Login_Success
    auth_handler_test.go:106: 
        	Error Trace:	/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:106
        	Error:      	"[]" should have 1 item(s), but has 0
        	Test:       	TestAuthHandler_Login_Success
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000079792}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.197+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"eb82397086b0439500553d843071032d","trace_id":"eb82397086b0439500553d843071032d","span_id":"076906d097da56f8","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":75,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000062708}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.197+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"b79344b4a298baba0d33061b416a419b","trace_id":"b79344b4a298baba0d33061b416a419b","span_id":"2ac9eb529f74b08d","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.197+0530","caller":"rest/auth_handler.go:251","message":"Registration validation passed","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","email":"newuser@example.com","tenant_id":"tenant-123","first_name":"John","last_name":"Doe"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.233+0530","caller":"rest/auth_handler.go:280","message":"Business event","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","event_type":"user_registration","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","email":"newuser@example.com","first_name":"John","last_name":"Doe","duration_ms":36}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"c2ea57b615877e8867817c25b7d1f7c9","trace_id":"c2ea57b615877e8867817c25b7d1f7c9","span_id":"7f911551ebb41fa7","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.03642975}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:252\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000086209}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.234+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"78a21be890bed0abf9fb281350912fa0","trace_id":"78a21be890bed0abf9fb281350912fa0","span_id":"be73969a59f920e6","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":113,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:252\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\nKey: 'RegisterRequest.TenantID' Error:Field validation for 'TenantID' failed on the 'required' tag\nKey: 'RegisterRequest.FirstName' Error:Field validation for 'FirstName' failed on the 'required' tag\nKey: 'RegisterRequest.LastName' Error:Field validation for 'LastName' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:289\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000049291}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.234+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"641e652cf9fa0f0716210fb252c76b6d","trace_id":"641e652cf9fa0f0716210fb252c76b6d","span_id":"62af0d5e7ac91284","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:289\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:323","message":"Token refresh attempt started","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.234+0530","caller":"rest/auth_handler.go:339","message":"Token refresh validation passed","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","refresh_token_prefix":"valid-refr..."}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"rest/auth_handler.go:366","message":"Business event","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","event_type":"token_refresh","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":5}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"6820eba9aa4e93a2a468a607b3c5dc47","trace_id":"6820eba9aa4e93a2a468a607b3c5dc47","span_id":"3b0c8d906eb69d60","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.005686458}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"rest/auth_handler.go:323","message":"Token refresh attempt started","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.240+0530","caller":"rest/auth_handler.go:330","message":"Token refresh validation failed","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","error":"Key: 'RefreshTokenRequest.RefreshToken' Error:Field validation for 'RefreshToken' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).RefreshToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:330\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:362\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000069625}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.240+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"cea1f06a8f016586b5f4c6188c6c1c6d","trace_id":"cea1f06a8f016586b5f4c6188c6c1c6d","span_id":"aa18c8beb13cce1d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":2,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:362\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.240+0530","caller":"rest/auth_handler.go:400","message":"Logout attempt started","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","endpoint":"/auth/logout","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/auth_handler.go:413","message":"Business event","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","event_type":"user_logout","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":11}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"c78d448b3cd3a64da990a4803c1f0c48","trace_id":"c78d448b3cd3a64da990a4803c1f0c48","span_id":"9bea6ba42ea4f6cd","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011095708}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000076042}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.251+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"a51c900a39918d0299d7e411f3167a1d","trace_id":"a51c900a39918d0299d7e411f3167a1d","span_id":"b82566805abc13a0","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":82,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:460\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000053875}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.251+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7abf4c489e010905f2d1fe894dc84ffa","trace_id":"7abf4c489e010905f2d1fe894dc84ffa","span_id":"8acc1bca2cc124aa","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":105,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:460\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"7202cb003152f79445b89c48e1f4350d","trace_id":"7202cb003152f79445b89c48e1f4350d","span_id":"86be5e1a8773ec35","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000045959}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":"https://custom.example.com/callback"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"https://custom.example.com/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"a9298e9da31c14deb22210488942c8ac","trace_id":"a9298e9da31c14deb22210488942c8ac","span_id":"66e9cec11a2d0b2b","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000035209}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"missing_tenant_id","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:74\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.251+0530","caller":"rest/oauth_handler.go:75","message":"Google OAuth login failed - missing tenant ID","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:75\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.251+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000045292}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.251+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"6b55227d5dd55ddc296f2815ef58c83d","trace_id":"6b55227d5dd55ddc296f2815ef58c83d","span_id":"8d4b77a0da78ec4e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.252+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.252+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.252+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"69090b3354d4edabc6a4231258871f4e","trace_id":"69090b3354d4edabc6a4231258871f4e","span_id":"da31109211b4832e","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.05114025}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"missing_code","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:164\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:165","message":"Google OAuth callback failed - missing authorization code","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:165\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000077708}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.303+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"8fa25ca19329011629a0000979412f54","trace_id":"8fa25ca19329011629a0000979412f54","span_id":"b1f95e70379e75c8","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","provider":"google","step":"callback_error","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000078458}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.303+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"4e986c58c5db5263862fcb8205bf35b4","trace_id":"4e986c58c5db5263862fcb8205bf35b4","span_id":"07cac550066d7c2a","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.303+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.324+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.324+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","event_type":"client_credentials_success","user_id":"service-client-123","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.324+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7a4576aa56b05af8ad3b582cc2b04fac","trace_id":"7a4576aa56b05af8ad3b582cc2b04fac","span_id":"cf64a9168aaeca5b","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.02121125}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"authorization_code","scope":"read:users write:users"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","reason":"unsupported_grant_type","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:284\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:285","message":"Unsupported grant type","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","grant_type":"authorization_code","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:285\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000134583}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.325+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"bb360a7b03d56da857391c0ed9fcaeda","trace_id":"bb360a7b03d56da857391c0ed9fcaeda","span_id":"cc7c142aec2fe0f5","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":138,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:268","message":"Client credentials validation failed","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:268\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000047375}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.325+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"fe3a09ea16325d3cde743e0ad457103e","trace_id":"fe3a09ea16325d3cde743e0ad457103e","span_id":"c8f6dbffa9d55cb4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":70,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.325+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":3600,"max_uses":1}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":3600,"max_uses":1,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"7f525bcad19df201ac048c10b1db9d45","trace_id":"7f525bcad19df201ac048c10b1db9d45","span_id":"4ce22aea20dcc572","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016156041}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.341+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"Key: 'OneTimeTokenRequest.URL' Error:Field validation for 'URL' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000068542}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.341+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"ebf023a831950d7d87655584caee1f48","trace_id":"ebf023a831950d7d87655584caee1f48","span_id":"38dbb22df5f575ab","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":87,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.341+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.352+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.352+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"d099e9bf572e764396f117523722ec65","trace_id":"d099e9bf572e764396f117523722ec65","span_id":"cffe7797ffed58e7","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011138625}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.352+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.353+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.353+0530","caller":"rest/oauth_handler.go:469","message":"One-time token verification failed - missing token","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:469\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.353+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000060417}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.353+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"51ad22d6f20e54c4723c407cc4eb97fd","trace_id":"51ad22d6f20e54c4723c407cc4eb97fd","span_id":"99d01672fa394183","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.353+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.353+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.353+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"session-123"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.364+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.364+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.364+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011129083}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.364+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"9d80bfb6893420ccfe865a0571d33c5d","trace_id":"9d80bfb6893420ccfe865a0571d33c5d","span_id":"f8d3abb3d93442a7","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.364+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.364+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.364+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":9}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"eab30f7e7f6dc5c1280d2aa4801047da","trace_id":"eab30f7e7f6dc5c1280d2aa4801047da","span_id":"b4309e6fd2827709","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.009098541}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.373+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.0000505}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.373+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"bee0f6d2a1dd6ea00b81141269f4461e","trace_id":"bee0f6d2a1dd6ea00b81141269f4461e","span_id":"b36bac9a197c60d8","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.373+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":7200,"max_uses":5}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.389+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":7200,"max_uses":5,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.389+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"bc3be60fdfc04eaaaafd0f9dc856060a","trace_id":"bc3be60fdfc04eaaaafd0f9dc856060a","span_id":"85956ca06ad322c9","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016122791}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.389+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.389+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.389+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.405+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":0,"max_uses":0,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.405+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"e24ca90b9f01bfff4e90f188e9203f92","trace_id":"e24ca90b9f01bfff4e90f188e9203f92","span_id":"142da826a7ae1a77","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016118709}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000059458}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.406+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"eb441580f3a2107e73a448d35b9c2392","trace_id":"eb441580f3a2107e73a448d35b9c2392","span_id":"d2e49e7efb1962e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":44,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.00003925}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.406+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7f627ea0f5d9191df07d436a865e9f4f","trace_id":"7f627ea0f5d9191df07d436a865e9f4f","span_id":"82fba4d452c4ddef","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.406+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"217224339f86eb64288bc3ced44eb284","trace_id":"217224339f86eb64288bc3ced44eb284","span_id":"e3ad75058b2bd9d2","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011128917}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.417+0530","caller":"rest/oauth_handler.go:479","message":"One-time token verification failed - missing session ID","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:479\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000063834}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.417+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"05fffdfd331c464dc7263dc61936d82b","trace_id":"05fffdfd331c464dc7263dc61936d82b","span_id":"024a24057eba965f","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.417+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"invalid-session"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.428+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.428+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.428+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011172541}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.428+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"bab9d305ee609aaa4df6b4bab613c830","trace_id":"bab9d305ee609aaa4df6b4bab613c830","span_id":"4240e733504075b5","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.428+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.428+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.429+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":9}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ee219048d4312ffc3001ae562ada619","trace_id":"4ee219048d4312ffc3001ae562ada619","span_id":"04eb3d1ce039f3fb","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.009132417}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000067875}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.438+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7eceb23b7d6a65521afc8fcab5ce53a7","trace_id":"7eceb23b7d6a65521afc8fcab5ce53a7","span_id":"3634e7a3f1d86853","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":33,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000040375}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.438+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"ce7531b43d967d19b0abfed1ea0113ed","trace_id":"ce7531b43d967d19b0abfed1ea0113ed","span_id":"fdfe2914e7f6e344","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.438+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7f6428c226e56f1fc2a9fd9dc77b803e","trace_id":"7f6428c226e56f1fc2a9fd9dc77b803e","span_id":"9a444649703ed0c6","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021143042}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.459+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","duration_ms":21,"scope":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"0c34895af333b055f41966bfe075ef6e","trace_id":"0c34895af333b055f41966bfe075ef6e","span_id":"dfe6070d48f2c37f","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021682417}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.481+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","duration_ms":20,"scope":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"90a5ccdb129651dbe5563f9223032b1d","trace_id":"90a5ccdb129651dbe5563f9223032b1d","span_id":"be0021ca7af69da8","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.020896458}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"2001d3b02d10d31d0319b234d35d4bb8","trace_id":"2001d3b02d10d31d0319b234d35d4bb8","span_id":"fdf06cc4cff6a1fb","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000091875}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.502+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.552+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.552+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.552+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":50}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.553+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"89c6079ec8eab84436e6608e5ee3f363","trace_id":"89c6079ec8eab84436e6608e5ee3f363","span_id":"8ba8d8835bb36610","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0502685}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.553+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.553+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.553+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"899e7fb8978a037f1c47611077595605","trace_id":"899e7fb8978a037f1c47611077595605","span_id":"7385f56e7d8279dc","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051223542}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","provider":"google","step":"callback_error","tenant_id":"","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000104625}
{"level":"WARN","timestamp":"2025-06-26T01:19:00.604+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"921b25a53f6c46effdd67294df9c4fcb","trace_id":"921b25a53f6c46effdd67294df9c4fcb","span_id":"6262b61f5062f48d","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0,"provider":"google"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"4ff5366afe02cda08e5e8875e249f5d7","trace_id":"4ff5366afe02cda08e5e8875e249f5d7","span_id":"5002c2d3dedc589d","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000047167}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.604+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-code..."}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"624a8889eac3f241f2fd764bb34dfb65","trace_id":"624a8889eac3f241f2fd764bb34dfb65","span_id":"0814a17b1f0a3991","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051116875}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.655+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.656+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":20}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"d0b95165ce47c65e3339980e6a41fb3a","trace_id":"d0b95165ce47c65e3339980e6a41fb3a","span_id":"e2b308f4f664456b","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.020763375}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.676+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.692+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":0,"max_uses":0,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.692+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","trace_id":"4d2d5bb1f183f3a8f999a1ac83bf2ed1","span_id":"081d071ed9821c79","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016184167}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.693+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.693+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.693+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.704+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.704+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"117e629a9583bfb5c833c4d5d3c6088e","trace_id":"117e629a9583bfb5c833c4d5d3c6088e","span_id":"f40fdfade61f7f6c","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011234042}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.704+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.704+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.704+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.714+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":10}
{"level":"INFO","timestamp":"2025-06-26T01:19:00.714+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","trace_id":"4b81dbb3774b3fd48f88fb4c0f4ba953","span_id":"557c39e04d96241d","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.01023625}
FAIL
exit status 1
FAIL	auth-service/internal/handler/rest	0.789s
{"level":"INFO","timestamp":"2025-06-26T01:19:01.023+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0000001}
{"level":"INFO","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","reason":"invalid_credentials","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:94\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger_test.go:98","message":"Security event","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","event_type":"login_attempt","user_id":"user-123","tenant_id":"tenant-123","details":"Multiple failed attempts","severity":"medium","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:98\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger_test.go:99","message":"Business event","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","event_type":"user_login","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","login_method":"password","success":true}
{"level":"INFO","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger_test.go:103","message":"Test info message","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger_test.go:104","message":"Test warning message","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:104\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T01:19:01.024+0530","caller":"logger/logger_test.go:105","message":"Test error message","request_id":"bd9eec40c43c456151e37eb8d4570cfb","trace_id":"bd9eec40c43c456151e37eb8d4570cfb","span_id":"f63ce03d1421c1e8","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:105\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
PASS
ok  	auth-service/internal/logger	0.308s
PASS
ok  	auth-service/internal/middleware	0.281s
PASS
ok  	auth-service/internal/models	0.194s
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 1137 to test@example.com (tenant: tenant-basic)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 100149 to test@example.com (tenant: tenant-pro)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 10000211 to test@example.com (tenant: tenant-enterprise)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 100141 to test@example.com (tenant: unknown-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 100001 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 1217 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 100171 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 10000190 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 1000000064 to test@example.com (tenant: test-tenant)
--- FAIL: TestOTPDigitLengthValidation (0.00s)
    --- FAIL: TestOTPDigitLengthValidation/Invalid_length_0 (0.00s)
        otp_service_test.go:102: Expected error for invalid digit length 0, but got none
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 1172 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 100020 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [OTP-EMAIL] Sent OTP 10000055 to test@example.com (tenant: test-tenant)
2025/06/26 01:19:01 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-pro, message_id: test-message-id)
2025/06/26 01:19:01 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-basic, message_id: test-message-id)
2025/06/26 01:19:01 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-pro, message_id: test-message-id)
2025/06/26 01:19:01 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-enterprise, message_id: test-message-id)
2025/06/26 01:19:01 [2FA] Triggered EMAIL 2FA for user user-123 (client: unknown-tenant, message_id: test-message-id)
--- FAIL: TestTriggerTwoFactorAuth (0.00s)
    --- FAIL: TestTriggerTwoFactorAuth/Invalid_subscription (0.00s)
        otp_service_test.go:272: Expected error code INVALID_SUBSCRIPTION, got 2FA_QUOTA_EXCEEDED
FAIL
exit status 1
FAIL	auth-service/internal/service	0.218s
PASS
ok  	auth-service/internal/tracing	0.293s
FAIL
