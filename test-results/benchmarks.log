{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:945","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:946","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:947","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:955","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:1018","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:1019","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:1020","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"server/main_test.go:1028","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"fdb5e529462c26c996d1e2bcd0913c78","trace_id":"fdb5e529462c26c996d1e2bcd0913c78","span_id":"8283ef7849224fba","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.595+0530","caller":"rest/auth_handler.go:93","message":"Login attempt started","request_id":"7a49c6c54d4787532fa756b0d8786e78","trace_id":"7a49c6c54d4787532fa756b0d8786e78","span_id":"458e7b03945d8cc9","method":"POST","path":"/api/v1/auth/login","client_ip":"","endpoint":"/auth/login","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.596+0530","caller":"rest/auth_handler.go:110","message":"Login validation passed","request_id":"7a49c6c54d4787532fa756b0d8786e78","trace_id":"7a49c6c54d4787532fa756b0d8786e78","span_id":"458e7b03945d8cc9","method":"POST","path":"/api/v1/auth/login","client_ip":"","email":"test@example.com","tenant_id":"test"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.612+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"7a49c6c54d4787532fa756b0d8786e78","trace_id":"7a49c6c54d4787532fa756b0d8786e78","span_id":"458e7b03945d8cc9","method":"POST","path":"/api/v1/auth/login","client_ip":"","request_id":"7a49c6c54d4787532fa756b0d8786e78","trace_id":"7a49c6c54d4787532fa756b0d8786e78","span_id":"458e7b03945d8cc9","user_id":"user-123","tenant_id":"test","auth_method":"password","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.612+0530","caller":"rest/auth_handler.go:147","message":"Business event","request_id":"7a49c6c54d4787532fa756b0d8786e78","trace_id":"7a49c6c54d4787532fa756b0d8786e78","span_id":"458e7b03945d8cc9","event_type":"user_login","user_id":"user-123","tenant_id":"test","client_ip":"","login_method":"password","roles":["user"],"duration_ms":16}
PASS
ok  	auth-service/cmd/server	0.401s
?   	auth-service/docs	[no test files]
{"level":"INFO","timestamp":"2025-06-25T23:44:08.893+0530","caller":"actuator/actuator_test.go:47","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.893+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"ab1b1fed00f788cc34e40607153450be","trace_id":"ab1b1fed00f788cc34e40607153450be","span_id":"113c3a6d652d8ff2","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator_test.go:70","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"2a2fb204a41fa869e2d9795715e5553d","trace_id":"2a2fb204a41fa869e2d9795715e5553d","span_id":"500b65d0336cbfdd","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"2a2fb204a41fa869e2d9795715e5553d","trace_id":"2a2fb204a41fa869e2d9795715e5553d","span_id":"500b65d0336cbfdd","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator_test.go:84","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"ed1f5ab41c4678b59f4b0fd7c4ea1581","trace_id":"ed1f5ab41c4678b59f4b0fd7c4ea1581","span_id":"47ad279c5cecb5b2","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"ed1f5ab41c4678b59f4b0fd7c4ea1581","trace_id":"ed1f5ab41c4678b59f4b0fd7c4ea1581","span_id":"47ad279c5cecb5b2","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator_test.go:98","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"06a3c1a8248b3472b5378e97ecc1b807","trace_id":"06a3c1a8248b3472b5378e97ecc1b807","span_id":"452db626dc32bb73","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"06a3c1a8248b3472b5378e97ecc1b807","trace_id":"06a3c1a8248b3472b5378e97ecc1b807","span_id":"452db626dc32bb73","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator_test.go:112","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"17c950d9872dfeb7e6fec90f5c2f1570","trace_id":"17c950d9872dfeb7e6fec90f5c2f1570","span_id":"2bcd235f6b4df603","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator_test.go:136","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"eaa03854c0f64c844ee64963f59dfe54","trace_id":"eaa03854c0f64c844ee64963f59dfe54","span_id":"8512590a2b792fc7","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.894+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"eaa03854c0f64c844ee64963f59dfe54","trace_id":"eaa03854c0f64c844ee64963f59dfe54","span_id":"8512590a2b792fc7","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator_test.go:160","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"6ac3adf4291a1d432e5c71294879bdb9","trace_id":"6ac3adf4291a1d432e5c71294879bdb9","span_id":"06231d227f9f0fbe","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"6ac3adf4291a1d432e5c71294879bdb9","trace_id":"6ac3adf4291a1d432e5c71294879bdb9","span_id":"06231d227f9f0fbe","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator_test.go:175","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator_test.go:201","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator_test.go:224","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.895+0530","caller":"actuator/actuator_test.go:246","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:275","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:308","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:329","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:416","message":"Health check registered","name":"test-check"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:429","message":"Readiness check registered","name":"test-readiness"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.896+0530","caller":"actuator/actuator_test.go:452","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator_test.go:478","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator_test.go:502","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator_test.go:524","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator_test.go:546","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"484e617e359b169b56cf93fc81531a59","trace_id":"484e617e359b169b56cf93fc81531a59","span_id":"ed2c641ef88f936d","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"484e617e359b169b56cf93fc81531a59","trace_id":"484e617e359b169b56cf93fc81531a59","span_id":"ed2c641ef88f936d","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"568560675ef340a852e230f7dd21ea11","trace_id":"568560675ef340a852e230f7dd21ea11","span_id":"749d0456eb51b984","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"568560675ef340a852e230f7dd21ea11","trace_id":"568560675ef340a852e230f7dd21ea11","span_id":"749d0456eb51b984","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"cd1873c4e98b7e9486c494d2e0c6a732","trace_id":"cd1873c4e98b7e9486c494d2e0c6a732","span_id":"582d6508904c28ce","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"cd1873c4e98b7e9486c494d2e0c6a732","trace_id":"cd1873c4e98b7e9486c494d2e0c6a732","span_id":"582d6508904c28ce","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"c83efbb253f88daa04be670784f13d83","trace_id":"c83efbb253f88daa04be670784f13d83","span_id":"270437b1b99d503a","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"9a9ca0290ef717bf57c9a23c5380355f","trace_id":"9a9ca0290ef717bf57c9a23c5380355f","span_id":"f017c70d28926515","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"b73bd58a42075219476b1a29cc5f4a90","trace_id":"b73bd58a42075219476b1a29cc5f4a90","span_id":"5826af3df20326a7","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"b73bd58a42075219476b1a29cc5f4a90","trace_id":"b73bd58a42075219476b1a29cc5f4a90","span_id":"5826af3df20326a7","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"bbc2a3a78d1e1cd61f6896ff9ca80d7f","trace_id":"bbc2a3a78d1e1cd61f6896ff9ca80d7f","span_id":"045d8a359726a2e4","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:08.897+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"bbc2a3a78d1e1cd61f6896ff9ca80d7f","trace_id":"bbc2a3a78d1e1cd61f6896ff9ca80d7f","span_id":"045d8a359726a2e4","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
PASS
ok  	auth-service/internal/actuator	0.358s
PASS
ok  	auth-service/internal/config	0.214s
{"level":"INFO","timestamp":"2025-06-25T23:44:09.448+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.448+0530","caller":"rest/auth_handler.go:93","message":"Login attempt started","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.449+0530","caller":"rest/auth_handler.go:110","message":"Login validation passed","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","email":"test@example.com","tenant_id":"tenant-123"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"rest/auth_handler.go:147","message":"Business event","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","event_type":"user_login","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","login_method":"password","roles":["user"],"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"b94e35174b2a0b541e7410da6a69e432","trace_id":"b94e35174b2a0b541e7410da6a69e432","span_id":"4adf47adfd81037f","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.017185708}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"rest/auth_handler.go:93","message":"Login attempt started","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","user_id":"","tenant_id":"tenant-123","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:100\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.465+0530","caller":"rest/auth_handler.go:101","message":"Login validation failed","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:101\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000196834}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.465+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"8243ec4981a249a5f3f6748f2422415f","trace_id":"8243ec4981a249a5f3f6748f2422415f","span_id":"382a33d30ba808f4","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":75,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:134\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.465+0530","caller":"rest/auth_handler.go:93","message":"Login attempt started","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.465+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:100\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.466+0530","caller":"rest/auth_handler.go:101","message":"Login validation failed","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\nKey: 'LoginRequest.TenantID' Error:Field validation for 'TenantID' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:101\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.466+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000060542}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.466+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"4d8ecbfc666c39147718ca60c2bab67e","trace_id":"4d8ecbfc666c39147718ca60c2bab67e","span_id":"bf68c0edb1d3bc88","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.466+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.466+0530","caller":"rest/auth_handler.go:193","message":"Registration attempt started","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.466+0530","caller":"rest/auth_handler.go:209","message":"Registration validation passed","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","email":"newuser@example.com","tenant_id":"tenant-123","first_name":"John","last_name":"Doe"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.502+0530","caller":"rest/auth_handler.go:238","message":"Business event","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","event_type":"user_registration","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","last_name":"Doe","duration_ms":36,"email":"newuser@example.com","first_name":"John"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"6d25239d3aa4854ba391cbaab0d88740","trace_id":"6d25239d3aa4854ba391cbaab0d88740","span_id":"9083b411c3f6940a","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.036907041}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:193","message":"Registration attempt started","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:200","message":"Registration validation failed","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:200\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:252\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000092416}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.503+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","trace_id":"2e7dbdc884ef34648c7b6d7cb636b4ad","span_id":"b5b18e8bc79e6ce3","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":113,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:252\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:193","message":"Registration attempt started","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:200","message":"Registration validation failed","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\nKey: 'RegisterRequest.TenantID' Error:Field validation for 'TenantID' failed on the 'required' tag\nKey: 'RegisterRequest.FirstName' Error:Field validation for 'FirstName' failed on the 'required' tag\nKey: 'RegisterRequest.LastName' Error:Field validation for 'LastName' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:200\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:289\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000069875}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.503+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"0f839357f4154448898f4de6ef29f2c0","trace_id":"0f839357f4154448898f4de6ef29f2c0","span_id":"66f165c4e72c801f","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:289\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:281","message":"Token refresh attempt started","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.503+0530","caller":"rest/auth_handler.go:297","message":"Token refresh validation passed","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","refresh_token_prefix":"valid-refr..."}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"rest/auth_handler.go:324","message":"Business event","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","event_type":"token_refresh","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":5}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ba4e99de1b40d6735a62b95775cc5ac","trace_id":"4ba4e99de1b40d6735a62b95775cc5ac","span_id":"8a22af6c3ca252e7","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.005692625}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"rest/auth_handler.go:281","message":"Token refresh attempt started","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.509+0530","caller":"rest/auth_handler.go:288","message":"Token refresh validation failed","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","error":"Key: 'RefreshTokenRequest.RefreshToken' Error:Field validation for 'RefreshToken' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).RefreshToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:288\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:362\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.0000515}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.509+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"4ef54e2bb05b860d24140820ba2d11b5","trace_id":"4ef54e2bb05b860d24140820ba2d11b5","span_id":"2f5542f11dc95dd1","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":2,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:362\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.509+0530","caller":"rest/auth_handler.go:358","message":"Logout attempt started","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","endpoint":"/auth/logout","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/auth_handler.go:371","message":"Business event","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","event_type":"user_logout","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":11}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"8bdaa8824163e349ca55685aafb3fb76","trace_id":"8bdaa8824163e349ca55685aafb3fb76","span_id":"8ba799524848a5d2","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011074334}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/auth_handler.go:93","message":"Login attempt started","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:100\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/auth_handler.go:101","message":"Login validation failed","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:101\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000090333}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.520+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","trace_id":"2242be80a37ca9dc67b6ed4c70e8c4ce","span_id":"cddd45bf7fe653fa","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":82,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:421\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/auth_handler.go:193","message":"Registration attempt started","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/auth_handler.go:200","message":"Registration validation failed","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:200\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:460\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000053916}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.520+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"59df0205e3b07960c29d6539e2c38dc2","trace_id":"59df0205e3b07960c29d6539e2c38dc2","span_id":"b6355281e62ee289","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":105,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:460\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"0b458a28496d32fb3366a82652fb433d","trace_id":"0b458a28496d32fb3366a82652fb433d","span_id":"5888bbf4331c540d","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000057834}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":"https://custom.example.com/callback"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":0,"provider":"google","redirect_uri":"https://custom.example.com/callback"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"77f71081fe09671d0c0682a428173f64","trace_id":"77f71081fe09671d0c0682a428173f64","span_id":"b2060c6ad3bff6d2","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0000485}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"missing_tenant_id","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:74\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.520+0530","caller":"rest/oauth_handler.go:75","message":"Google OAuth login failed - missing tenant ID","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:75\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.520+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000060792}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.520+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"aef5a842689c2bbc664bd9fa830e7298","trace_id":"aef5a842689c2bbc664bd9fa830e7298","span_id":"5a5e52762991edbf","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.521+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.521+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.521+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.572+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.572+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.572+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.572+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"5f99f8f1dfad1533b6acef30fa988a7a","trace_id":"5f99f8f1dfad1533b6acef30fa988a7a","span_id":"d9d075b83d3013d9","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051541209}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.573+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.573+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.573+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"missing_code","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:164\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.573+0530","caller":"rest/oauth_handler.go:165","message":"Google OAuth callback failed - missing authorization code","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:165\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.573+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000527542}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.573+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"57e1e96940fde42d16ec35b6d3735067","trace_id":"57e1e96940fde42d16ec35b6d3735067","span_id":"e40c0c410c465817","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.573+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.573+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.573+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.574+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","provider":"google","step":"callback_error","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.574+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000181333}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.574+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"d8496a229a8847156ead3cabf47af2bf","trace_id":"d8496a229a8847156ead3cabf47af2bf","span_id":"efca09dfd7aa1938","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.574+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.575+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.575+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.595+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.595+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","event_type":"client_credentials_success","user_id":"service-client-123","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":20}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.596+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"30aa5684d7d50b7f5cca4b77b69b57ad","trace_id":"30aa5684d7d50b7f5cca4b77b69b57ad","span_id":"1a7d69defbc59f6f","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.022116708}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"authorization_code","scope":"read:users write:users"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.597+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","reason":"unsupported_grant_type","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:284\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.597+0530","caller":"rest/oauth_handler.go:285","message":"Unsupported grant type","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","grant_type":"authorization_code","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:285\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000428375}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.597+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7af96ed90ee3bc70a948df963964f470","trace_id":"7af96ed90ee3bc70a948df963964f470","span_id":"7c1e21d02494059c","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":138,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.597+0530","caller":"rest/oauth_handler.go:268","message":"Client credentials validation failed","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:268\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.597+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.00038625}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.597+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","trace_id":"31b85d3c6f4a71d8f80e6c4d9f7b526a","span_id":"ec71726e05036ee4","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":70,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.598+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.598+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.598+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":3600,"max_uses":1}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.614+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":3600,"max_uses":1,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.614+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"11149be80fd0c83a879a4febc761e6a0","trace_id":"11149be80fd0c83a879a4febc761e6a0","span_id":"48cd1b79dfc05aaf","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016303125}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.614+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.614+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.614+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"Key: 'OneTimeTokenRequest.URL' Error:Field validation for 'URL' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.614+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.0001525}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.614+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"6e00d9af3e342cd89b4ac579bd0f5d67","trace_id":"6e00d9af3e342cd89b4ac579bd0f5d67","span_id":"d7abfb4c98fb7bc3","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":87,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.615+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.615+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.615+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.626+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.626+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"5f4c00d79aa7bfe937e12b0133fcc652","trace_id":"5f4c00d79aa7bfe937e12b0133fcc652","span_id":"94853d42cedbb959","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011381542}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.626+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.627+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.627+0530","caller":"rest/oauth_handler.go:469","message":"One-time token verification failed - missing token","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:469\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.627+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000453792}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.627+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"188459f07acee2be943eb927ee92e5d8","trace_id":"188459f07acee2be943eb927ee92e5d8","span_id":"e71e9fc5e493bdee","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.627+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.628+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.628+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"session-123"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.639+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.639+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.639+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011746125}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.639+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"2123487654d7af4298374f1c1385324b","trace_id":"2123487654d7af4298374f1c1385324b","span_id":"d9945a66d926a97a","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.640+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.640+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.640+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.648+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":8}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.648+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"57177747c8dd44ef7a734b734078685e","trace_id":"57177747c8dd44ef7a734b734078685e","span_id":"75dbec1a7f1ae40a","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.008708916}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.649+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000115291}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.649+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"8ee457402e84d8ac4206b2a0ac7a3727","trace_id":"8ee457402e84d8ac4206b2a0ac7a3727","span_id":"f8228e369c934251","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.649+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":7200,"max_uses":5}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.665+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","expires_in":7200,"max_uses":5,"duration_ms":15,"session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.665+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"163be263d91af75feb40b6d2d18bb5bd","trace_id":"163be263d91af75feb40b6d2d18bb5bd","span_id":"7a18251e262362e4","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.015978}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.665+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.665+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.665+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.681+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","duration_ms":15,"session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.681+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"360234b52448534b0424c22a19664a7b","trace_id":"360234b52448534b0424c22a19664a7b","span_id":"77262796d192bf68","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016089042}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.682+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.682+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.682+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.682+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000289125}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.682+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"ef7fffc3475204a84ae1fcd89daf0660","trace_id":"ef7fffc3475204a84ae1fcd89daf0660","span_id":"e2a664f1efbb9eda","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":44,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.682+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.682+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.682+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.683+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000157125}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.683+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"5e92c249d0b4f7fef563a3eba38cd125","trace_id":"5e92c249d0b4f7fef563a3eba38cd125","span_id":"b674a4c6e95e43cb","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.683+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.683+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.683+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.694+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.694+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"0da279cc72b43bfb3393cbca137ee63e","trace_id":"0da279cc72b43bfb3393cbca137ee63e","span_id":"c6d51a75c03264c8","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011584167}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.695+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.695+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.695+0530","caller":"rest/oauth_handler.go:479","message":"One-time token verification failed - missing session ID","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:479\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.695+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000353084}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.695+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"88d23612a14cfdec92514a0ba08804cf","trace_id":"88d23612a14cfdec92514a0ba08804cf","span_id":"7098eff9c427ffa1","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.695+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.695+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.696+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"invalid-session"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.707+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.707+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.707+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011425625}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.707+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"fd8bd5d4b43418e3816272afbf2ecb90","trace_id":"fd8bd5d4b43418e3816272afbf2ecb90","span_id":"eafe008de9613562","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.707+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.707+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.707+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.716+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":9,"session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.716+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"da70842e41433d90f2dc2cd28bc19a32","trace_id":"da70842e41433d90f2dc2cd28bc19a32","span_id":"c44671c70bf349dc","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0093995}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000175584}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.717+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"405ae69bf657722f00a812a99383f21a","trace_id":"405ae69bf657722f00a812a99383f21a","span_id":"254e281209a17c34","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":33,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000074042}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.717+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"1530a9cd9103ccf710c6c0a4a9b4413f","trace_id":"1530a9cd9103ccf710c6c0a4a9b4413f","span_id":"8fdd5a18dc1a1b4a","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.717+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","trace_id":"4a0f5c7bfb5e3b6f4e41ae175335dbff","span_id":"18dd08009289c6fc","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0214205}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.739+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.761+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.761+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.761+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"f1557e0480a2a1d65692656ca58783b2","trace_id":"f1557e0480a2a1d65692656ca58783b2","span_id":"e08fe5b70712074e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021928333}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.762+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.762+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.762+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.783+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.783+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","duration_ms":21,"scope":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.783+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"4cde075bd6e3662452e5511dac949e81","trace_id":"4cde075bd6e3662452e5511dac949e81","span_id":"9cb124622d6f5c4e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021572708}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"fc71a8253295a160937fd8a1b573156b","trace_id":"fc71a8253295a160937fd8a1b573156b","span_id":"2592b2ff7fba4f7b","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000275083}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.785+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.836+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.836+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.837+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.837+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"84f65adb6b810fefe626dd71b4bf52d5","trace_id":"84f65adb6b810fefe626dd71b4bf52d5","span_id":"d8ef813d8439715f","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051252417}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.837+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.837+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.837+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.888+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":52}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"38e4ace02222a1af0f4ae72aae083e15","trace_id":"38e4ace02222a1af0f4ae72aae083e15","span_id":"4d7b9583dc8e3f92","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.052350916}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","provider":"google","step":"callback_error","tenant_id":"","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000372166}
{"level":"WARN","timestamp":"2025-06-25T23:44:09.890+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"2405bf9f6258461e12e5b7bea9fac240","trace_id":"2405bf9f6258461e12e5b7bea9fac240","span_id":"ee9ab020e1195bea","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.890+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"f26e0010a4ecc1c7669a0667558aacd5","trace_id":"f26e0010a4ecc1c7669a0667558aacd5","span_id":"9d53afdf0e742753","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000149583}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.891+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-code..."}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.942+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.942+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.942+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.942+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"0663d7cf7e78e2c84dcad32d4b31efe9","trace_id":"0663d7cf7e78e2c84dcad32d4b31efe9","span_id":"33ebc77b3698700f","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051559084}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.943+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.943+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.943+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.964+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.964+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.964+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"3fb850c636e4de9335e2e1910aef3c17","trace_id":"3fb850c636e4de9335e2e1910aef3c17","span_id":"6975296f2764f13a","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021689875}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.969+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.969+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.969+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.985+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":0,"max_uses":0,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.985+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"4b86bffe0bdcf03740aa941ff0e8e07a","trace_id":"4b86bffe0bdcf03740aa941ff0e8e07a","span_id":"021c6c4793bc8393","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016395041}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.985+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.985+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.985+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.996+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":11}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.997+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"519cbdafb8d9219ee29dfed91b2d1be1","trace_id":"519cbdafb8d9219ee29dfed91b2d1be1","span_id":"b212df4220322536","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.011319459}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.997+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.997+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-25T23:44:09.997+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.006+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":9}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.006+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"1f3cd35e13d9898ffb6498eab83772ec","trace_id":"1f3cd35e13d9898ffb6498eab83772ec","span_id":"22568c868993d402","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.009535875}
PASS
ok  	auth-service/internal/handler/rest	0.820s
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0000001}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","reason":"invalid_credentials","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:94\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger_test.go:98","message":"Security event","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","event_type":"login_attempt","user_id":"user-123","tenant_id":"tenant-123","details":"Multiple failed attempts","severity":"medium","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:98\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger_test.go:99","message":"Business event","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","event_type":"user_login","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","login_method":"password","success":true}
{"level":"INFO","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger_test.go:103","message":"Test info message","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger_test.go:104","message":"Test warning message","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:104\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-25T23:44:10.247+0530","caller":"logger/logger_test.go:105","message":"Test error message","request_id":"fb0c37753353852628e2d99a99e8b5e6","trace_id":"fb0c37753353852628e2d99a99e8b5e6","span_id":"7d9dcee58e422c62","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:105\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
PASS
ok  	auth-service/internal/logger	0.234s
PASS
ok  	auth-service/internal/middleware	0.256s
PASS
ok  	auth-service/internal/models	0.187s
PASS
ok  	auth-service/internal/service	0.188s
PASS
ok  	auth-service/internal/tracing	0.204s
