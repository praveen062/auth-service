{"level":"INFO","timestamp":"2025-06-26T13:02:20.254+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"33757fec53262ccbf75fdf5efeb1571e","trace_id":"33757fec53262ccbf75fdf5efeb1571e","span_id":"326168b8e5438688","method":"POST","path":"/api/v1/auth/login","client_ip":"","endpoint":"/auth/login","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.255+0530","caller":"rest/auth_handler.go:149","message":"Login validation passed","request_id":"33757fec53262ccbf75fdf5efeb1571e","trace_id":"33757fec53262ccbf75fdf5efeb1571e","span_id":"326168b8e5438688","method":"POST","path":"/api/v1/auth/login","client_ip":"","email":"test@example.com","tenant_id":"test-tenant","tenant_name":"Test Tenant"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.271+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"33757fec53262ccbf75fdf5efeb1571e","trace_id":"33757fec53262ccbf75fdf5efeb1571e","span_id":"326168b8e5438688","method":"POST","path":"/api/v1/auth/login","client_ip":"","request_id":"33757fec53262ccbf75fdf5efeb1571e","trace_id":"33757fec53262ccbf75fdf5efeb1571e","span_id":"326168b8e5438688","user_id":"user-123","tenant_id":"test-tenant","auth_method":"password","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.272+0530","caller":"rest/auth_handler.go:187","message":"Business event","request_id":"33757fec53262ccbf75fdf5efeb1571e","trace_id":"33757fec53262ccbf75fdf5efeb1571e","span_id":"326168b8e5438688","event_type":"user_login","user_id":"user-123","tenant_id":"test-tenant","client_ip":"","login_method":"password","roles":["user"],"duration_ms":17,"tenant_name":"Test Tenant","tenant_plan":"pro"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.272+0530","caller":"server/main_test.go:1011","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.272+0530","caller":"server/main_test.go:1012","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.272+0530","caller":"server/main_test.go:1013","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.272+0530","caller":"server/main_test.go:1021","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.273+0530","caller":"server/main_test.go:1084","message":"Health check registered","name":"memory"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.273+0530","caller":"server/main_test.go:1085","message":"Health check registered","name":"goroutines"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.273+0530","caller":"server/main_test.go:1086","message":"Health check registered","name":"disk"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.273+0530","caller":"server/main_test.go:1094","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.273+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"b0f11fa4e12f8c9685a00080e2b8efd2","trace_id":"b0f11fa4e12f8c9685a00080e2b8efd2","span_id":"12062b5a94f88bfd","method":"GET","path":"/actuator/info","client_ip":""}
PASS
ok  	auth-service/cmd/server	0.434s
?   	auth-service/docs	[no test files]
{"level":"INFO","timestamp":"2025-06-26T13:02:20.538+0530","caller":"actuator/actuator_test.go:47","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"0e93a1ce1b503c6d483e4dfbc6aab306","trace_id":"0e93a1ce1b503c6d483e4dfbc6aab306","span_id":"ef7eae9c11de5311","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator_test.go:70","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"40f372ee28c38e5f2772c1fc7f5ad031","trace_id":"40f372ee28c38e5f2772c1fc7f5ad031","span_id":"4d9ac2974bc229f7","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"40f372ee28c38e5f2772c1fc7f5ad031","trace_id":"40f372ee28c38e5f2772c1fc7f5ad031","span_id":"4d9ac2974bc229f7","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator_test.go:84","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"40b7df9f96d925a5169061081d939029","trace_id":"40b7df9f96d925a5169061081d939029","span_id":"dee7c7c6dcb6eb99","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"40b7df9f96d925a5169061081d939029","trace_id":"40b7df9f96d925a5169061081d939029","span_id":"dee7c7c6dcb6eb99","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator_test.go:98","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"7759bb22006cf06189874837e62bdb0f","trace_id":"7759bb22006cf06189874837e62bdb0f","span_id":"84ce131b7f48c7cc","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"7759bb22006cf06189874837e62bdb0f","trace_id":"7759bb22006cf06189874837e62bdb0f","span_id":"84ce131b7f48c7cc","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator_test.go:112","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"6b91e656c4d57ffc066b360dcebee934","trace_id":"6b91e656c4d57ffc066b360dcebee934","span_id":"f507fd58a0c4e877","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator_test.go:136","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.539+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"fab67816926eabf07902ee9f6ef0b0d2","trace_id":"fab67816926eabf07902ee9f6ef0b0d2","span_id":"fd5b80e8a6c90592","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"fab67816926eabf07902ee9f6ef0b0d2","trace_id":"fab67816926eabf07902ee9f6ef0b0d2","span_id":"fd5b80e8a6c90592","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator_test.go:160","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"01ff0f1c039c7614b025c17c84adad48","trace_id":"01ff0f1c039c7614b025c17c84adad48","span_id":"e1e7a2735dfcd265","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"01ff0f1c039c7614b025c17c84adad48","trace_id":"01ff0f1c039c7614b025c17c84adad48","span_id":"e1e7a2735dfcd265","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator_test.go:175","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator_test.go:201","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator_test.go:224","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.540+0530","caller":"actuator/actuator_test.go:246","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.541+0530","caller":"actuator/actuator_test.go:275","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.541+0530","caller":"actuator/actuator_test.go:308","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.541+0530","caller":"actuator/actuator_test.go:329","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.541+0530","caller":"actuator/actuator_test.go:416","message":"Health check registered","name":"test-check"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.541+0530","caller":"actuator/actuator_test.go:429","message":"Readiness check registered","name":"test-readiness"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator_test.go:452","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator_test.go:478","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator_test.go:502","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator_test.go:524","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator_test.go:546","message":"Actuator routes registered","base_path":"/actuator"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:157","message":"Health check request received","request_id":"c42d14beb0621152596e8e7ac464edd1","trace_id":"c42d14beb0621152596e8e7ac464edd1","span_id":"3ca4e1df254b8deb","method":"GET","path":"/actuator/health","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:162","message":"Business event","request_id":"c42d14beb0621152596e8e7ac464edd1","trace_id":"c42d14beb0621152596e8e7ac464edd1","span_id":"3ca4e1df254b8deb","event_type":"health_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:170","message":"Liveness check request received","request_id":"accde291853bd4e94ed49bb8d1448908","trace_id":"accde291853bd4e94ed49bb8d1448908","span_id":"2ef8ea7f2884f68b","method":"GET","path":"/actuator/health/live","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:174","message":"Business event","request_id":"accde291853bd4e94ed49bb8d1448908","trace_id":"accde291853bd4e94ed49bb8d1448908","span_id":"2ef8ea7f2884f68b","event_type":"liveness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/live"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:182","message":"Readiness check request received","request_id":"23b9476166308ed831df854d98f9bdb1","trace_id":"23b9476166308ed831df854d98f9bdb1","span_id":"ec3594e362acb715","method":"GET","path":"/actuator/health/ready","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:186","message":"Business event","request_id":"23b9476166308ed831df854d98f9bdb1","trace_id":"23b9476166308ed831df854d98f9bdb1","span_id":"ec3594e362acb715","event_type":"readiness_check","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/health/ready"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:194","message":"Application info request received","request_id":"cb90342c67182c6bf0b1260ecc1dab61","trace_id":"cb90342c67182c6bf0b1260ecc1dab61","span_id":"1e97bc0b3164428d","method":"GET","path":"/actuator/info","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:202","message":"Environment info request received","request_id":"8efce8e8e88f6e06067154686b19f827","trace_id":"8efce8e8e88f6e06067154686b19f827","span_id":"a9c640a7fb735564","method":"GET","path":"/actuator/env","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:220","message":"Metrics request received","request_id":"c3709490e7a36c914b83fe84b32294d7","trace_id":"c3709490e7a36c914b83fe84b32294d7","span_id":"c2970c6cbd715a6e","method":"GET","path":"/actuator/metrics","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:230","message":"Business event","request_id":"c3709490e7a36c914b83fe84b32294d7","trace_id":"c3709490e7a36c914b83fe84b32294d7","span_id":"c2970c6cbd715a6e","event_type":"metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/metrics"}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:240","message":"Prometheus metrics request received","request_id":"b3f26a780f7ddc7d67da3b6ce5704322","trace_id":"b3f26a780f7ddc7d67da3b6ce5704322","span_id":"a426f4d9cba3ee35","method":"GET","path":"/actuator/prometheus","client_ip":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:20.542+0530","caller":"actuator/actuator.go:245","message":"Business event","request_id":"b3f26a780f7ddc7d67da3b6ce5704322","trace_id":"b3f26a780f7ddc7d67da3b6ce5704322","span_id":"a426f4d9cba3ee35","event_type":"prometheus_metrics_request","user_id":"","tenant_id":"","client_ip":"","endpoint":"/actuator/prometheus"}
PASS
ok  	auth-service/internal/actuator	0.342s
PASS
ok  	auth-service/internal/config	0.241s
{"level":"INFO","timestamp":"2025-06-26T13:02:21.123+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.123+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.123+0530","caller":"rest/auth_handler.go:149","message":"Login validation passed","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","email":"test@example.com","tenant_id":"tenant-123","tenant_name":"Test Tenant"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"rest/auth_handler.go:187","message":"Business event","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","event_type":"user_login","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","login_method":"password","roles":["user"],"duration_ms":16,"tenant_name":"Test Tenant","tenant_plan":"pro"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"779ec773e65c61983dce3b7d8093ab07","trace_id":"779ec773e65c61983dce3b7d8093ab07","span_id":"7d115757008119ea","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.017525333}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:157\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.140+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:157\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000122583}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.140+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"1247e99d7b361b32ff8c4ee1a4c9934e","trace_id":"1247e99d7b361b32ff8c4ee1a4c9934e","span_id":"242c5aaa2ea3ccf5","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":75,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:157\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:194\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.140+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"Key: 'LoginRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:194\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.140+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000061291}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.140+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"4307356ac4c6235bfa9ba4c9d2ccf925","trace_id":"4307356ac4c6235bfa9ba4c9d2ccf925","span_id":"9d4ea0c35b534696","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:194\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.141+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.141+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.141+0530","caller":"rest/auth_handler.go:251","message":"Registration validation passed","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","email":"newuser@example.com","tenant_id":"tenant-123","first_name":"John","last_name":"Doe"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:280","message":"Business event","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","event_type":"user_registration","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","email":"newuser@example.com","first_name":"John","last_name":"Doe","duration_ms":37}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"6c8972dc1139cc31c0bb279c5fe3f897","trace_id":"6c8972dc1139cc31c0bb279c5fe3f897","span_id":"9fabd9a244115b40","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.037160667}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Email' Error:Field validation for 'Email' failed on the 'email' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:275\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000101625}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.178+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"7d7a2664da5abea7c886aa519b464760","trace_id":"7d7a2664da5abea7c886aa519b464760","span_id":"8533fc89c645b649","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":113,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_InvalidEmail\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:275\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag\nKey: 'RegisterRequest.TenantID' Error:Field validation for 'TenantID' failed on the 'required' tag\nKey: 'RegisterRequest.FirstName' Error:Field validation for 'FirstName' failed on the 'required' tag\nKey: 'RegisterRequest.LastName' Error:Field validation for 'LastName' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:312\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000043584}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.178+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"e1cf3319bdc0eb25510d3556df3f7ce0","trace_id":"e1cf3319bdc0eb25510d3556df3f7ce0","span_id":"fcab04592b0eee0a","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":28,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_MissingFields\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:312\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:323","message":"Token refresh attempt started","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.178+0530","caller":"rest/auth_handler.go:339","message":"Token refresh validation passed","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","refresh_token_prefix":"valid-refr..."}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"rest/auth_handler.go:366","message":"Business event","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","event_type":"token_refresh","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":5}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"bd1444963811f2770b37a6af393b018c","trace_id":"bd1444963811f2770b37a6af393b018c","span_id":"9397d042088c39be","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.005699709}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"rest/auth_handler.go:323","message":"Token refresh attempt started","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/auth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.184+0530","caller":"rest/auth_handler.go:330","message":"Token refresh validation failed","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","error":"Key: 'RefreshTokenRequest.RefreshToken' Error:Field validation for 'RefreshToken' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).RefreshToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:330\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000043916}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.184+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"8fcb716cd13e915797953dab1e3bdc2f","trace_id":"8fcb716cd13e915797953dab1e3bdc2f","span_id":"2ff3ada883460b92","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":2,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_RefreshToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.184+0530","caller":"rest/auth_handler.go:400","message":"Logout attempt started","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","endpoint":"/auth/logout","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"rest/auth_handler.go:413","message":"Business event","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","event_type":"user_logout","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":11}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","request_id":"dafe0954dc9138716b917c4238499356","trace_id":"dafe0954dc9138716b917c4238499356","span_id":"138b070de93f167e","parent_span_id":"","method":"POST","path":"/logout","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.01115875}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"rest/auth_handler.go:95","message":"Login attempt started","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","endpoint":"/auth/login","method":"POST"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.195+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","user_id":"","tenant_id":"","auth_method":"password","reason":"validation_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:444\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.195+0530","caller":"rest/auth_handler.go:103","message":"Login validation failed","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Login\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:103\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:444\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","parent_span_id":"","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000150834}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.195+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"cd49f63be6a68584ff26b544fd0070c4","trace_id":"cd49f63be6a68584ff26b544fd0070c4","span_id":"61890d9caa9bea08","method":"POST","path":"/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":82,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Login_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:444\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.195+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/auth_handler.go:235","message":"Registration attempt started","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","endpoint":"/auth/register","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/auth_handler.go:242","message":"Registration validation failed","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","error":"Key: 'RegisterRequest.Password' Error:Field validation for 'Password' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*AuthHandler).Register\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler.go:242\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:483\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","parent_span_id":"","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000099166}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.196+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"ee43b92542192ebd10ebd31015b9df4b","trace_id":"ee43b92542192ebd10ebd31015b9df4b","span_id":"edb6abc2a5fd8e87","method":"POST","path":"/register","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":105,"stacktrace":"auth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestAuthHandler_Register_EmptyPassword\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/auth_handler_test.go:483\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"69e58ca79b849ac0867f338c09e90a0f","trace_id":"69e58ca79b849ac0867f338c09e90a0f","span_id":"3b7d11ac3716e163","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000158584}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":"https://custom.example.com/callback"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","redirect_uri":"https://custom.example.com/callback","duration_ms":0,"provider":"google"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"37622336733b0d50a42d3e54799cef22","trace_id":"37622336733b0d50a42d3e54799cef22","span_id":"2702cdb9eab99706","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000065791}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"missing_tenant_id","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:74\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:75","message":"Google OAuth login failed - missing tenant ID","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleLogin\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:75\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000105875}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.196+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"adc0091fe1c5801276bab32cc0250f9d","trace_id":"adc0091fe1c5801276bab32cc0250f9d","span_id":"0f5efafddb2094fa","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleLogin_MissingTenantID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:115\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.196+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.247+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.247+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.247+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":50}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.247+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"68310b22d7be9bdeab4c42f462ad0c33","trace_id":"68310b22d7be9bdeab4c42f462ad0c33","span_id":"f75d2f51439fa6ab","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051029125}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"missing_code","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:164\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.248+0530","caller":"rest/oauth_handler.go:165","message":"Google OAuth callback failed - missing authorization code","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:165\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000285375}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.248+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"a887ad46b4a36a384fbf0d78d3670551","trace_id":"a887ad46b4a36a384fbf0d78d3670551","span_id":"1b6feb13535b79a1","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_MissingCode\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:171\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","user_id":"","tenant_id":"tenant-123","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","provider":"google","step":"callback_error","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.248+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000365083}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.248+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","trace_id":"1b8abaf584824ef7cbd5e12ce2c5ec53","span_id":"b6c0b463c8cc94ce","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_OAuthError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:197\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.249+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.249+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.249+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","event_type":"client_credentials_success","user_id":"service-client-123","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"8f52f1a067861b8916a54227245b3c5d","trace_id":"8f52f1a067861b8916a54227245b3c5d","span_id":"730e0c65027fb2ea","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.02139725}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.270+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"service-client-123","grant_type":"authorization_code","scope":"read:users write:users"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.270+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","user_id":"service-client-123","tenant_id":"","auth_method":"client_credentials","reason":"unsupported_grant_type","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:284\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.271+0530","caller":"rest/oauth_handler.go:285","message":"Unsupported grant type","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","grant_type":"authorization_code","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:285\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.271+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000256959}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.271+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"1278509392c45c0884babbd1cfab4d31","trace_id":"1278509392c45c0884babbd1cfab4d31","span_id":"a1b250b9b20cac16","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":138,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_UnsupportedGrantType\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:273\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.271+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.271+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.271+0530","caller":"rest/oauth_handler.go:268","message":"Client credentials validation failed","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).ClientCredentials\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:268\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.271+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000167459}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.271+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","trace_id":"6d1aea52f7c9c0b91fe40b0504fe2b50","span_id":"b90d2ec99542e995","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":70,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_ClientCredentials_InvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:303\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.272+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.272+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.272+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":3600,"max_uses":1}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","duration_ms":15,"session_id":"survey-session-456","expires_in":3600,"max_uses":1}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"b89eabe14d2475e976732b7baf5b4af6","trace_id":"b89eabe14d2475e976732b7baf5b4af6","span_id":"40bb6057d39d9753","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016071292}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.288+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"Key: 'OneTimeTokenRequest.URL' Error:Field validation for 'URL' failed on the 'required' tag","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000088167}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.288+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"b49c9b2ac7da7518e25ce42a63a5c70e","trace_id":"b49c9b2ac7da7518e25ce42a63a5c70e","span_id":"161475a02003ce16","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":87,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_MissingURL\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:385\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.288+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"2b0397f10f61a7ecc6980342c09061f8","trace_id":"2b0397f10f61a7ecc6980342c09061f8","span_id":"68c702432b44869e","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.016884917}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.305+0530","caller":"rest/oauth_handler.go:469","message":"One-time token verification failed - missing token","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:469\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000115916}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.305+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"4e255d6136e7b207bf7d88a0affb4970","trace_id":"4e255d6136e7b207bf7d88a0affb4970","span_id":"4a1d0d36f088df4e","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_MissingToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:440\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.305+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"session-123"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.316+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.316+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.316+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011284583}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.316+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","trace_id":"b2c8d1d8bb94e58c401e70e44d91ef2c","span_id":"18c619b179bfd54d","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_InvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:466\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.317+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.317+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.317+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.326+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":9,"session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.326+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","trace_id":"0ff4131e4d9fa3cb08da3e88cba9cdd2","span_id":"91f9c0dc07eb5965","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.009156708}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.327+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000144}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.327+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"3edd3308e38e8d494ed0fda3fb2aea9b","trace_id":"3edd3308e38e8d494ed0fda3fb2aea9b","span_id":"150c2a3f5f08825b","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_MissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:522\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.327+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":7200,"max_uses":5}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.343+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":7200,"max_uses":5,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.343+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"9630eefd9d037502b3c215e94979cc20","trace_id":"9630eefd9d037502b3c215e94979cc20","span_id":"dc76e4cca802e135","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016351959}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.343+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.343+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.344+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","expires_in":0,"max_uses":0,"duration_ms":16}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","trace_id":"d2071e5292aa3b40ea4ce4cf8423e4ed","span_id":"802f09127eaa8c5a","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016364667}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.360+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"unexpected EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.00036125}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.360+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"e9b8423c986ccd308c6d434bd6953b8a","trace_id":"e9b8423c986ccd308c6d434bd6953b8a","span_id":"c9ec154c2803191f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":44,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:638\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.360+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.361+0530","caller":"rest/oauth_handler.go:371","message":"One-time token validation failed","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","error":"EOF","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).CreateOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:371\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.361+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000105583}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.361+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"ea683a81225492fe47b01dba721fc26f","trace_id":"ea683a81225492fe47b01dba721fc26f","span_id":"85848b216a63d146","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_CreateOneTimeToken_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:665\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.361+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.361+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.361+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.371+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":10,"session_id":"survey-session-456","is_valid":true}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.371+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","trace_id":"eb2c3e7e63e9263a35a9d4b89ea9ebea","span_id":"dcdb93294d831db9","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.010646625}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.372+0530","caller":"rest/oauth_handler.go:479","message":"One-time token verification failed - missing session ID","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:479\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000056375}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.372+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"57adb36a76b7a93d892a3144d87cfd88","trace_id":"57adb36a76b7a93d892a3144d87cfd88","span_id":"ceaf8c50404cd794","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithMissingSessionID\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:723\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.372+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"invalid-to...","session_id":"invalid-session"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.383+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","user_id":"","tenant_id":"","auth_method":"one_time_token","reason":"invalid_token","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:513\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.383+0530","caller":"rest/oauth_handler.go:514","message":"One-time token verification failed - invalid token or session","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).VerifyOneTimeToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:514\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.383+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":401,"duration":0.011214292}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.383+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"d7fd9418812ca4f5370950ddb227b3f8","trace_id":"d7fd9418812ca4f5370950ddb227b3f8","span_id":"6ab98327634b62ae","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_VerifyOneTimeToken_WithInvalidToken\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:750\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.383+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.383+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.383+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","duration_ms":8}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"057e9dd47137b9660470f09b0c8e84e1","trace_id":"057e9dd47137b9660470f09b0c8e84e1","span_id":"61a00eb76c27fa23","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.008994333}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.392+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.000077291}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.392+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"c4ea7ac656e0b1f6852f559051a357be","trace_id":"c4ea7ac656e0b1f6852f559051a357be","span_id":"6eae855de7426dab","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":33,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithInvalidJSON\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:810\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.392+0530","caller":"rest/oauth_handler.go:589","message":"Session refresh failed - missing parameters","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/handler/rest.(*OAuthHandler).RefreshSession\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:589\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.392+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.00005675}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.392+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"97beb71c32dbd9df1dfdac5729583fa7","trace_id":"97beb71c32dbd9df1dfdac5729583fa7","span_id":"cc94eb76b2f3c342","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_RefreshSession_WithEmptyBody\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:837\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.393+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.393+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.393+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":"read:users write:users"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"read:users write:users","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"641f33d8c84f245e9fdb370ee4ce44c6","trace_id":"641f33d8c84f245e9fdb370ee4ce44c6","span_id":"29288a877ea8c21e","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021169708}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.414+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.435+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.435+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.435+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"9a76746fc262874b84b85b17d90e1d79","trace_id":"9a76746fc262874b84b85b17d90e1d79","span_id":"71829ef810f01423","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021254875}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.436+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.436+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.436+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","trace_id":"6d88f2b74d3cfb036ae06e4e77ab9f7d","span_id":"2b29d280e87a75be","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021252583}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"256bc58ad291aba8dfdebfd72d09278e","trace_id":"256bc58ad291aba8dfdebfd72d09278e","span_id":"3b7f8b34da75894f","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000137}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.457+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.508+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.508+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.508+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.509+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"aa2774db9570a6220f8f9d45d3ffe503","trace_id":"aa2774db9570a6220f8f9d45d3ffe503","span_id":"e39bc1e8b5869345","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051322583}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.509+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.509+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.509+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"","code_prefix":"test-auth-..."}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.560+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","user_id":"google-user-123","tenant_id":"","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.560+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","provider":"google","step":"callback_success","tenant_id":"","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.560+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":51}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.560+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"535112dbfe1a012bdcb47356c079cff1","trace_id":"535112dbfe1a012bdcb47356c079cff1","span_id":"3693aa951fff0927","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.051550291}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","user_id":"","tenant_id":"","auth_method":"google_oauth","reason":"oauth_error","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:153\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:225","message":"OAuth flow failed","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","provider":"google","step":"callback_error","tenant_id":"","client_ip":"192.0.2.1:1234","error":"oauth error: access_denied","stacktrace":"auth-service/internal/logger.(*RequestLogger).OAuthFlow\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:225\nauth-service/internal/handler/rest.(*OAuthHandler).GoogleCallback\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler.go:154\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:27\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":400,"duration":0.00051775}
{"level":"WARN","timestamp":"2025-06-26T13:02:21.561+0530","caller":"middleware/logging_middleware.go:54","message":"Request resulted in error status","request_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","trace_id":"fa2e9d5e3f394eb744ddc4ff5549dc6d","span_id":"b1b52ce9975d8b6e","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_agent":"","referer":"","content_length":0,"stacktrace":"auth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError.LoggingMiddleware.func1\n\t/Users/Licious/Desktop/repository/auth-service/internal/middleware/logging_middleware.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/Licious/go/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576\nauth-service/internal/handler/rest.TestOAuthHandler_GoogleCallback_WithOnlyError\n\t/Users/Licious/Desktop/repository/auth-service/internal/handler/rest/oauth_handler_test.go:1063\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"rest/oauth_handler.go:65","message":"Google OAuth login initiated","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/login","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"rest/oauth_handler.go:84","message":"Google OAuth login validation passed","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","redirect_uri":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.561+0530","caller":"rest/oauth_handler.go:101","message":"Business event","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","event_type":"oauth_login_initiated","user_id":"","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","redirect_uri":"http://localhost:8080/api/v1/oauth/google/callback","duration_ms":0,"provider":"google"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.562+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","request_id":"3f553d19f1a2719476dbfe22e43bf71e","trace_id":"3f553d19f1a2719476dbfe22e43bf71e","span_id":"e17ff07898440e9e","parent_span_id":"","method":"GET","path":"/google/login","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.000133875}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.562+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.562+0530","caller":"rest/oauth_handler.go:143","message":"Google OAuth callback received","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","endpoint":"/oauth/google/callback","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.562+0530","caller":"rest/oauth_handler.go:174","message":"Google OAuth callback validation passed","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","tenant_id":"tenant-123","code_prefix":"test-code..."}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.612+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","user_id":"google-user-123","tenant_id":"tenant-123","auth_method":"google_oauth","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.612+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","provider":"google","step":"callback_success","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.613+0530","caller":"rest/oauth_handler.go:209","message":"Business event","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","event_type":"oauth_login_completed","user_id":"google-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","provider":"google","duration_ms":50}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.613+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","request_id":"ea7e642c2b0c0d9ff9576aa95d472a62","trace_id":"ea7e642c2b0c0d9ff9576aa95d472a62","span_id":"a6e29ea9f4c5bc27","parent_span_id":"","method":"GET","path":"/google/callback","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.050995292}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.613+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.613+0530","caller":"rest/oauth_handler.go:261","message":"Client credentials flow initiated","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","endpoint":"/oauth/token","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.613+0530","caller":"rest/oauth_handler.go:277","message":"Client credentials validation passed","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","client_id":"test-client-id","grant_type":"client_credentials","scope":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","user_id":"test-client-id","tenant_id":"","auth_method":"client_credentials","client_ip":"192.0.2.1:1234"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"rest/oauth_handler.go:310","message":"Business event","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","event_type":"client_credentials_success","user_id":"test-client-id","tenant_id":"","client_ip":"192.0.2.1:1234","scope":"","duration_ms":21}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","request_id":"fa4034c7c81570e4f0e8a4d1bcc89155","trace_id":"fa4034c7c81570e4f0e8a4d1bcc89155","span_id":"431c0058129481a8","parent_span_id":"","method":"POST","path":"/token","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.021557791}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"rest/oauth_handler.go:364","message":"One-time token creation initiated","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","endpoint":"/oauth/one-time","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.634+0530","caller":"rest/oauth_handler.go:380","message":"One-time token validation passed","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","url":"https://app.example.com/survey/123","session_id":"survey-session-456","expires_in":0,"max_uses":0}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.651+0530","caller":"rest/oauth_handler.go:421","message":"Business event","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","event_type":"one_time_token_created","user_id":"","tenant_id":"","client_ip":"192.0.2.1:1234","max_uses":0,"duration_ms":16,"session_id":"survey-session-456","expires_in":0}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.651+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","request_id":"0fc1c8e080e03bcca482f16fb4483c88","trace_id":"0fc1c8e080e03bcca482f16fb4483c88","span_id":"618bb88ed017870f","parent_span_id":"","method":"POST","path":"/one-time","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":201,"duration":0.016258084}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.651+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.651+0530","caller":"rest/oauth_handler.go:460","message":"One-time token verification initiated","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","endpoint":"/oauth/verify","method":"GET"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.651+0530","caller":"rest/oauth_handler.go:488","message":"One-time token verification validation passed","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.661+0530","caller":"rest/oauth_handler.go:542","message":"Business event","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","event_type":"one_time_token_verified","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","session_id":"survey-session-456","is_valid":true,"duration_ms":10}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.661+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","request_id":"6b60546e4109ba6f28334c24ccc2c3e2","trace_id":"6b60546e4109ba6f28334c24ccc2c3e2","span_id":"ecbdd2eaa5626ce3","parent_span_id":"","method":"GET","path":"/verify","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.010694375}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.661+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.661+0530","caller":"rest/oauth_handler.go:580","message":"Session refresh initiated","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","endpoint":"/oauth/refresh","method":"POST"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.662+0530","caller":"rest/oauth_handler.go:598","message":"Session refresh validation passed","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","token_prefix":"one-time-t...","session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.671+0530","caller":"rest/oauth_handler.go:637","message":"Business event","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","event_type":"session_refreshed","user_id":"anonymous-user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","duration_ms":9,"session_id":"survey-session-456"}
{"level":"INFO","timestamp":"2025-06-26T13:02:21.677+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","request_id":"8d0f3ed539de8c448aa390f47b63e08c","trace_id":"8d0f3ed539de8c448aa390f47b63e08c","span_id":"e49f1ce4abe58555","parent_span_id":"","method":"POST","path":"/refresh","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.015026542}
PASS
ok  	auth-service/internal/handler/rest	0.819s
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger.go:147","message":"Request started","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":""}
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger.go:180","message":"Request completed","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","parent_span_id":"","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","user_id":"","tenant_id":"","status":200,"duration":0.0000001}
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger.go:186","message":"Authentication successful","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger.go:199","message":"Authentication failed","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","user_id":"user-123","tenant_id":"tenant-123","auth_method":"password","reason":"invalid_credentials","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.(*RequestLogger).AuthFailure\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger.go:199\nauth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:94\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger.go:227","message":"OAuth flow step completed","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","provider":"google","step":"login_initiated","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger_test.go:98","message":"Security event","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","event_type":"login_attempt","user_id":"user-123","tenant_id":"tenant-123","details":"Multiple failed attempts","severity":"medium","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:98\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger_test.go:99","message":"Business event","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","event_type":"user_login","user_id":"user-123","tenant_id":"tenant-123","client_ip":"192.0.2.1:1234","login_method":"password","success":true}
{"level":"INFO","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger_test.go:103","message":"Test info message","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234"}
{"level":"WARN","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger_test.go:104","message":"Test warning message","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:104\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
{"level":"ERROR","timestamp":"2025-06-26T13:02:22.090+0530","caller":"logger/logger_test.go:105","message":"Test error message","request_id":"4fd517880c876b9e1a7a91764f39e973","trace_id":"4fd517880c876b9e1a7a91764f39e973","span_id":"553701e5afb8af35","method":"GET","path":"/test","client_ip":"192.0.2.1:1234","stacktrace":"auth-service/internal/logger.TestRequestLogger_Methods\n\t/Users/Licious/Desktop/repository/auth-service/internal/logger/logger_test.go:105\ntesting.tRunner\n\t/usr/local/go/src/testing/testing.go:1690"}
PASS
ok  	auth-service/internal/logger	0.400s
PASS
ok  	auth-service/internal/middleware	0.307s
PASS
ok  	auth-service/internal/models	0.190s
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 1016 to test@example.com (tenant: tenant-basic)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 100049 to test@example.com (tenant: tenant-pro)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 10000249 to test@example.com (tenant: tenant-enterprise)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 100230 to test@example.com (tenant: unknown-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 1179 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 100093 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 10000187 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 1000000134 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 1242 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 100019 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [OTP-EMAIL] Sent OTP 10000120 to test@example.com (tenant: test-tenant)
2025/06/26 13:02:22 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-pro, message_id: test-message-id)
2025/06/26 13:02:22 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-basic, message_id: test-message-id)
2025/06/26 13:02:22 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-pro, message_id: test-message-id)
2025/06/26 13:02:22 [2FA] Triggered EMAIL 2FA for user user-123 (client: tenant-enterprise, message_id: test-message-id)
2025/06/26 13:02:22 [2FA] Triggered EMAIL 2FA for user user-123 (client: unknown-tenant, message_id: test-message-id)
PASS
ok  	auth-service/internal/service	0.249s
PASS
ok  	auth-service/internal/tracing	0.205s
